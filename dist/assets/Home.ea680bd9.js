import{_ as f,u as N,A as x}from"./index.eaff7e8f.js";import{R as _,u as h,r as m,j as n}from"./vendor.855a4921.js";function g(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function p(e){g(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function d(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function b(e){g(1,arguments);var t=p(e);return t.setHours(0,0,0,0),t}var y=864e5;function j(e,t){g(2,arguments);var s=b(e),a=b(t),i=s.getTime()-d(s),r=a.getTime()-d(a);return Math.round((i-r)/y)}function v(e,t){var s=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return s<0?-1:s>0?1:s}function T(e,t){g(2,arguments);var s=p(e),a=p(t),i=v(s,a),r=Math.abs(j(s,a));s.setDate(s.getDate()-i*r);var c=Number(v(s,a)===-i),o=i*(r-c);return o===0?0:o}var l="C:\\Users\\runec\\Documents\\Projects\\f1predictions-ui\\src\\pages\\Home.jsx";const E=_.lazy(()=>f(()=>import("./TotalPoints.d6582c21.js"),["assets/TotalPoints.d6582c21.js","assets/Card.e0403388.js","assets/vendor.855a4921.js","assets/Col.fc6e8593.js","assets/Placeholder.e408a6d1.js","assets/Button.10f28fc7.js","assets/Row.e869789c.js"])),w=_.lazy(()=>f(()=>import("./ShowcaseGP.c464ddb2.js"),["assets/ShowcaseGP.c464ddb2.js","assets/Card.e0403388.js","assets/vendor.855a4921.js","assets/Button.10f28fc7.js","assets/Placeholder.e408a6d1.js","assets/Col.fc6e8593.js","assets/index.c1e5c9be.js","assets/index.eaff7e8f.js","assets/index.fd3af7f4.css"])),M=_.lazy(()=>f(()=>import("./GrandPrixHistory.16e1d45d.js"),["assets/GrandPrixHistory.16e1d45d.js","assets/vendor.855a4921.js","assets/Col.fc6e8593.js","assets/warning.b33cdbd2.js","assets/Placeholder.e408a6d1.js","assets/Button.10f28fc7.js","assets/Row.e869789c.js","assets/index.c1e5c9be.js","assets/index.eaff7e8f.js","assets/index.fd3af7f4.css"])),S=()=>{const{t:e}=h(),{data:t,loading:s}=N(x,{initialValue:{grand_prix:[]}}),a=m.exports.useMemo(()=>({...t,grand_prix:t.grand_prix.map(o=>({...o,qualifying_start_timestamp:new Date(o.qualifying_start_timestamp)})).sort((o,u)=>o.qualifying_start_timestamp-u.qualifying_start_timestamp)}),[t]),i=m.exports.useMemo(()=>{const o=a.grand_prix.filter(u=>u.qualifying_start_timestamp<new Date).sort((u,D)=>u.qualifying_start_timestamp-D.qualifying_start_timestamp);return o[o.length-1]},[a]),r=m.exports.useMemo(()=>a.grand_prix.filter(u=>u.qualifying_start_timestamp>new Date)?.[0],[a]),c=m.exports.useMemo(()=>r&&T(r.qualifying_start_timestamp,new Date)<=1?r:i,[i,r]);return m.exports.useEffect(()=>{console.log(r)},[r]),n.exports.jsxDEV("div",{gap:4,className:"home",children:[n.exports.jsxDEV("div",{className:"home__showcase",children:n.exports.jsxDEV(w,{showcaseGP:c,isUpcomming:c?.id===r?.id,loading:s},void 0,!1,{fileName:l,lineNumber:54,columnNumber:17},globalThis)},void 0,!1,{fileName:l,lineNumber:53,columnNumber:13},globalThis),n.exports.jsxDEV("div",{className:"home__total",children:[n.exports.jsxDEV("h5",{className:"mb-3",children:e("home.season-total")},void 0,!1,{fileName:l,lineNumber:57,columnNumber:17},globalThis),n.exports.jsxDEV(E,{results:t,loading:s,bg:"secondary"},void 0,!1,{fileName:l,lineNumber:58,columnNumber:17},globalThis)]},void 0,!0,{fileName:l,lineNumber:56,columnNumber:13},globalThis),n.exports.jsxDEV("div",{className:"home__history",children:n.exports.jsxDEV(M,{overview:t,loading:s},void 0,!1,{fileName:l,lineNumber:61,columnNumber:17},globalThis)},void 0,!1,{fileName:l,lineNumber:60,columnNumber:13},globalThis)]},void 0,!0,{fileName:l,lineNumber:52,columnNumber:9},globalThis)};var I=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:S});export{I as H,d as g,g as r,p as t};
