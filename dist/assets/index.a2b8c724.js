import{R as m,j as e,N as f,a as x,r as v,T as S,b as D,c as R,v as B,n as W,B as A,S as z,C as U,d as H,e as b,f as M,g as q,h as G,i as X}from"./vendor.380d830e.js";const K=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function a(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(i){if(i.ep)return;i.ep=!0;const o=a(i);fetch(i.href,o)}};K();const Y="modulepreload",I={},J="/",g=function(s,a){return!a||a.length===0?s():Promise.all(a.map(l=>{if(l=`${J}${l}`,l in I)return;I[l]=!0;const i=l.endsWith(".css"),o=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${o}`))return;const r=document.createElement("link");if(r.rel=i?"stylesheet":Y,i||(r.as="script",r.crossOrigin=""),r.href=l,document.head.appendChild(r),i)return new Promise((d,E)=>{r.addEventListener("load",d),r.addEventListener("error",E)})})).then(()=>s())};var Q="C:\\Projects\\f1predictions-ui\\src\\core\\contexts\\Store.jsx";const P={title:"F1 Predictions",leftAction:null,leftActioinIcon:null,rightAction:null,rightActionIcon:null,showBottomNav:!0},Z={drivers:[],grandPrix:[],seasons:[],current_season:null,notifications:[],navbar:P},C=m.createContext();function ee(t,s){switch(s.type){case"SET_DRIVERS":return{...t,drivers:s.payload};case"SET_GRAND_PRIX":return{...t,grandPrix:s.payload};case"SET_SEASONS":return{...t,seasons:s.payload};case"SET_CURRENT_SEASON":return{...t,current_season:s.payload};case"SET_NAVBAR":return{...t,navbar:{...t.navbar,...s.payload}};case"RESET_NAVBAR":return{...t,navbar:P};case"NOTIFY":return{...t,notifications:[...t.notifications,s.payload]};case"REMOVE_NOTIFICATION":return{...t,notifications:t.notifications.filter(a=>a.id!=s.payload)};default:return t}}const te=({children:t})=>{const[s,a]=m.useReducer(ee,Z);return e.exports.jsxDEV(C.Provider,{value:{state:s,dispatch:a},children:t},void 0,!1,{fileName:Q,lineNumber:49,columnNumber:11},globalThis)};function _(){const t=m.useContext(C);if(!t)throw Error("StoreContext must be used within a StoreProvider");return t}var c="C:\\Projects\\f1predictions-ui\\src\\components\\Navbar.jsx";const ie=()=>{const{navbar:t}=_().state;return e.exports.jsxDEV("div",{className:"navbar p-0 d-flex align-items-center  bg-primary text-white ",children:e.exports.jsxDEV("div",{className:"container navbar__content d-flex align-items-centerp-1",children:[e.exports.jsxDEV("div",{className:"navbar__action col d-flex",children:t.leftAction&&e.exports.jsxDEV("button",{onClick:t.leftAction,className:"btn text-white py-0",children:e.exports.jsxDEV("i",{className:`fas ${t.leftActionIcon}`},void 0,!1,{fileName:c,lineNumber:13,columnNumber:22},globalThis)},void 0,!1,{fileName:c,lineNumber:12,columnNumber:19},globalThis)},void 0,!1,{fileName:c,lineNumber:10,columnNumber:13},globalThis),e.exports.jsxDEV("h4",{className:"mb-0 col-9 py-2 text-nowrap",children:t.title},void 0,!1,{fileName:c,lineNumber:17,columnNumber:13},globalThis),e.exports.jsxDEV("div",{className:"navbar__action col d-flex align-items-end",children:t.rightAction&&e.exports.jsxDEV("button",{onClick:t.rightAction,className:"btn text-white py-0",children:e.exports.jsxDEV("i",{className:`fas ${t.rightActionIcon}`},void 0,!1,{fileName:c,lineNumber:21,columnNumber:22},globalThis)},void 0,!1,{fileName:c,lineNumber:20,columnNumber:19},globalThis)},void 0,!1,{fileName:c,lineNumber:18,columnNumber:13},globalThis),e.exports.jsxDEV(f,{className:"navbar__nav",defaultActiveKey:"/home",as:"ul",children:[e.exports.jsxDEV(f.Item,{as:"li",children:e.exports.jsxDEV(f.Link,{to:"/",className:"text-white",exact:!0,activeClassName:"fw-bold",as:x,children:"Home"},void 0,!1,{fileName:c,lineNumber:27,columnNumber:19},globalThis)},void 0,!1,{fileName:c,lineNumber:26,columnNumber:16},globalThis),e.exports.jsxDEV(f.Item,{as:"li",children:e.exports.jsxDEV(f.Link,{to:"/leaderboard",className:"text-white",activeClassName:"fw-bold",as:x,children:"Leaderboards"},void 0,!1,{fileName:c,lineNumber:32,columnNumber:19},globalThis)},void 0,!1,{fileName:c,lineNumber:31,columnNumber:16},globalThis),e.exports.jsxDEV(f.Item,{as:"li",children:e.exports.jsxDEV(f.Link,{to:"/settings",className:"text-white",activeClassName:"fw-bold",as:x,children:"Settings"},void 0,!1,{fileName:c,lineNumber:37,columnNumber:19},globalThis)},void 0,!1,{fileName:c,lineNumber:36,columnNumber:16},globalThis),e.exports.jsxDEV(f.Item,{as:"li",children:e.exports.jsxDEV(f.Link,{to:"/admin",className:"text-white",activeClassName:"fw-bold",as:x,children:"Admin"},void 0,!1,{fileName:c,lineNumber:42,columnNumber:19},globalThis)},void 0,!1,{fileName:c,lineNumber:41,columnNumber:16},globalThis)]},void 0,!0,{fileName:c,lineNumber:25,columnNumber:13},globalThis)]},void 0,!0,{fileName:c,lineNumber:9,columnNumber:10},globalThis)},void 0,!1,{fileName:c,lineNumber:8,columnNumber:7},globalThis)};var p="C:\\Projects\\f1predictions-ui\\src\\components\\BottomNavBar.jsx";const se=()=>e.exports.jsxDEV("nav",{className:"bg-primary d-flex",children:[e.exports.jsxDEV(x,{to:"/",exact:!0,activeClassName:"opacity-100",className:"btn btn-link py-2 my-1 col text-white opacity-50",children:e.exports.jsxDEV("i",{className:"fas fa-home"},void 0,!1,{fileName:p,lineNumber:7,columnNumber:13},globalThis)},void 0,!1,{fileName:p,lineNumber:6,columnNumber:10},globalThis),e.exports.jsxDEV(x,{to:"/leaderboard",exact:!0,activeClassName:"opacity-100",className:"btn btn-link py-2 my-1 col text-white opacity-50",children:e.exports.jsxDEV("i",{className:"fas fa-poll"},void 0,!1,{fileName:p,lineNumber:10,columnNumber:13},globalThis)},void 0,!1,{fileName:p,lineNumber:9,columnNumber:10},globalThis),e.exports.jsxDEV(x,{to:"/settings",exact:!0,activeClassName:"opacity-100",className:"btn btn-link py-2 my-1 col text-white opacity-50",children:e.exports.jsxDEV("i",{className:"fas fa-cog"},void 0,!1,{fileName:p,lineNumber:13,columnNumber:13},globalThis)},void 0,!1,{fileName:p,lineNumber:12,columnNumber:10},globalThis),e.exports.jsxDEV(x,{to:"/admin",exact:!0,activeClassName:"opacity-100",className:"btn btn-link py-2 my-1 col text-white opacity-50",children:e.exports.jsxDEV("i",{className:"fas fa-users-cog"},void 0,!1,{fileName:p,lineNumber:16,columnNumber:13},globalThis)},void 0,!1,{fileName:p,lineNumber:15,columnNumber:10},globalThis)]},void 0,!0,{fileName:p,lineNumber:5,columnNumber:7},globalThis);var j="C:\\Projects\\f1predictions-ui\\src\\components\\Toaster.jsx";const le=()=>{const{state:t,dispatch:s}=_(),{notifications:a}=t,l=v.exports.useMemo(()=>a.length>0?a.reverse()[a.length-1]:null,[a]),i=v.exports.useCallback(o=>{s({type:"REMOVE_NOTIFICATION",payload:o.id})},[s]);return e.exports.jsxDEV(S,{children:e.exports.jsxDEV(D,{show:!!l,autohide:!0,delay:l?.delay||5e3,onClose:()=>i(l),bg:l?.type||"primary",className:"text-white",children:e.exports.jsxDEV(D.Body,{children:e.exports.jsxDEV("div",{className:"d-flex justify-content-between align-items-center",children:[e.exports.jsxDEV("span",{children:l?.text},void 0,!1,{fileName:j,lineNumber:35,columnNumber:19},globalThis),e.exports.jsxDEV("i",{onClick:()=>i(l),className:"fas fa-times text-white"},void 0,!1,{fileName:j,lineNumber:36,columnNumber:19},globalThis)]},void 0,!0,{fileName:j,lineNumber:34,columnNumber:16},globalThis)},void 0,!1,{fileName:j,lineNumber:33,columnNumber:13},globalThis)},void 0,!1,{fileName:j,lineNumber:25,columnNumber:10},globalThis)},void 0,!1,{fileName:j,lineNumber:24,columnNumber:7},globalThis)};function oe(t,{initialFetch:s=!0,initialFetchOptions:a={},initialValue:l=null}={}){const[i,o]=m.useState(!1),[r,d]=m.useState(null),[E,u]=m.useState(l),{dispatch:T}=_(),w=m.useCallback(async(L,F)=>{let y=null;y&&clearTimeout(y),y=setTimeout(()=>{o(!0)},10);function $(N){switch(N?.response?.status){case 401:return null;case 403:return"U hebt geen toegang tot die gegevens";case 400:return"Die gegevens bestaan niet of konden niet worden opgevraagd";default:return"Er is iets fout gegaan"}}return await R.get(`https://f1-predictions-backend.herokuapp.com${L}`,{...F}).then(N=>N.data).then(N=>(u(N),N)).catch(N=>(d(N),N?.response?.status!==401&&T({type:"NOTIFY",payload:{id:new Date().getTime(),text:$(N),delay:5e3,type:"danger"}}),N)).finally(()=>{y&&clearTimeout(y),o(!1)})},[]);return m.useEffect(()=>{s&&w(t,a)},[]),{loading:i,data:E,error:r,fetch:w,setError:d,setLoading:o}}const ae="/grand-prix",je="/predictions",re="/drivers",Te="/results",k="/seasons";function ne(t={}){const{immediate:s=!1,onNeedRefresh:a,onOfflineReady:l,onRegistered:i,onRegisterError:o}=t;let r,d;const E=async(u=!0)=>{u&&(r==null||r.addEventListener("controlling",T=>{T.isUpdate&&window.location.reload()})),d&&d.waiting&&await W(d.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){r=new B("/sw.js",{scope:"/"}),r.addEventListener("activated",u=>{u.isUpdate||l==null||l()});{const u=()=>{a==null||a()};r.addEventListener("waiting",u),r.addEventListener("externalwaiting",u)}r.register({immediate:s}).then(u=>{d=u,i==null||i(u)}).catch(u=>{o==null||o(u)})}return E}function O(t={}){const{immediate:s=!0,onNeedRefresh:a,onOfflineReady:l,onRegistered:i,onRegisterError:o}=t,[r,d]=v.exports.useState(!1),[E,u]=v.exports.useState(!1),[T]=v.exports.useState(()=>ne({immediate:s,onOfflineReady(){u(!0),l==null||l()},onNeedRefresh(){d(!0),a==null||a()},onRegistered:i,onRegisterError:o}));return{needRefresh:[r,d],offlineReady:[E,u],updateServiceWorker:T}}var h="C:\\Projects\\f1predictions-ui\\src\\components\\ReloadPrompt.jsx";function ce(){const{offlineReady:[t,s],needRefresh:[a,l],updateServiceWorker:i}=O({onRegistered(r){console.log("SW Registered")},onRegisterError(r){console.log("SW registration error",r)}}),o=()=>{s(!1),l(!1)};return e.exports.jsxDEV(S,{className:"position-fixed ",style:{bottom:"90px",left:"50%",transform:"translateX(-50%)"},children:a&&e.exports.jsxDEV(D,{className:"d-inline-block m-1 shadow-lg",bg:"light",onClose:o,children:[e.exports.jsxDEV(D.Header,{children:[e.exports.jsxDEV("img",{src:"/assets/logo.png",height:"20px",className:"rounded me-2",alt:""},void 0,!1,{fileName:h,lineNumber:32,columnNumber:19},this),e.exports.jsxDEV("strong",{className:"me-auto",children:"Update available"},void 0,!1,{fileName:h,lineNumber:33,columnNumber:19},this)]},void 0,!0,{fileName:h,lineNumber:31,columnNumber:16},this),e.exports.jsxDEV(D.Body,{children:[e.exports.jsxDEV("p",{children:"New content is available, click on update button to get the newest features."},void 0,!1,{fileName:h,lineNumber:36,columnNumber:19},this),e.exports.jsxDEV(A,{onClick:i,variant:"primary",children:"Update"},void 0,!1,{fileName:h,lineNumber:37,columnNumber:19},this),e.exports.jsxDEV(A,{onClick:i,variant:"link",className:"text-dark text-decoration-none",children:"Close"},void 0,!1,{fileName:h,lineNumber:40,columnNumber:19},this)]},void 0,!0,{fileName:h,lineNumber:35,columnNumber:16},this)]},void 0,!0,{fileName:h,lineNumber:30,columnNumber:13},this)},void 0,!1,{fileName:h,lineNumber:28,columnNumber:7},this)}var n="C:\\Projects\\f1predictions-ui\\src\\App.jsx";const me=m.lazy(()=>g(()=>import("./Home.def0b09b.js").then(function(t){return t.H}),["assets/Home.def0b09b.js","assets/vendor.380d830e.js"])),ue=m.lazy(()=>g(()=>import("./SignIn.927001f3.js"),["assets/SignIn.927001f3.js","assets/vendor.380d830e.js","assets/useNavbar.e8f4cde3.js"])),de=m.lazy(()=>g(()=>import("./PredictionForm.489ba08d.js"),["assets/PredictionForm.489ba08d.js","assets/vendor.380d830e.js","assets/usePost.d2e2bf65.js","assets/Form.f93fdc12.js","assets/warning.b33cdbd2.js","assets/Col.ad648dab.js","assets/useNavbar.e8f4cde3.js"])),Ne=m.lazy(()=>g(()=>import("./Result.7e4c913d.js"),["assets/Result.7e4c913d.js","assets/vendor.380d830e.js","assets/useNavbar.e8f4cde3.js"])),fe=m.lazy(()=>g(()=>import("./Leaderboard.3c596e5c.js"),["assets/Leaderboard.3c596e5c.js","assets/vendor.380d830e.js","assets/useNavbar.e8f4cde3.js"])),be=m.lazy(()=>g(()=>import("./Admin.806c6042.js"),["assets/Admin.806c6042.js","assets/vendor.380d830e.js","assets/Form.f93fdc12.js","assets/warning.b33cdbd2.js","assets/Col.ad648dab.js","assets/useNavbar.e8f4cde3.js"])),pe=m.lazy(()=>g(()=>import("./Settings.80cccd9e.js"),["assets/Settings.80cccd9e.js","assets/vendor.380d830e.js","assets/Form.f93fdc12.js","assets/warning.b33cdbd2.js","assets/Col.ad648dab.js"])),he=m.lazy(()=>g(()=>import("./ResultsForm.c0609693.js"),["assets/ResultsForm.c0609693.js","assets/vendor.380d830e.js","assets/usePost.d2e2bf65.js","assets/Form.f93fdc12.js","assets/warning.b33cdbd2.js","assets/Col.ad648dab.js","assets/useNavbar.e8f4cde3.js"])),xe=60*60*1e3,ve=()=>e.exports.jsxDEV("div",{className:"d-flex align-items-center justify-content-center",style:{width:"100vw",height:"100vh"},children:e.exports.jsxDEV(q,{size:"lg",animation:"border",role:"status",variant:"primary",children:e.exports.jsxDEV("span",{className:"visually-hidden",children:"Loading..."},void 0,!1,{fileName:n,lineNumber:32,columnNumber:13},globalThis)},void 0,!1,{fileName:n,lineNumber:31,columnNumber:10},globalThis)},void 0,!1,{fileName:n,lineNumber:30,columnNumber:7},globalThis),ge=()=>{const{state:t,dispatch:s}=_(),{fetch:a}=oe(null,{initialFetch:!1}),{current_season:l}=t;return v.exports.useEffect(async()=>{await a(re).then(i=>s({type:"SET_DRIVERS",payload:i})),await a(k).then(i=>{s({type:"SET_SEASONS",payload:i}),s({type:"SET_CURRENT_SEASON",payload:i.find(o=>o.year==new Date().getFullYear())})})},[a]),v.exports.useEffect(async()=>{l&&await a(`${k}/${l.id}${ae}`).then(i=>s({type:"SET_GRAND_PRIX",payload:i.sort((o,r)=>new Date(o.qualifying_start_timestamp)-new Date(r.qualifying_start_timestamp))}))},[l]),O({onRegistered(i){i&&setInterval(()=>{i.update()},xe)}}),e.exports.jsxDEV(v.exports.Suspense,{fallback:e.exports.jsxDEV(ve,{},void 0,!1,{fileName:n,lineNumber:73,columnNumber:27},globalThis),children:e.exports.jsxDEV("div",{className:"app",children:[e.exports.jsxDEV(z,{style:{width:"100vw"},children:[e.exports.jsxDEV("div",{className:"app__navbar sticky-top",children:e.exports.jsxDEV(ie,{},void 0,!1,{fileName:n,lineNumber:77,columnNumber:19},globalThis)},void 0,!1,{fileName:n,lineNumber:76,columnNumber:16},globalThis),e.exports.jsxDEV(U,{className:"py-3",style:{minHeight:"calc(100vh - 100px)"},children:e.exports.jsxDEV(H,{children:[e.exports.jsxDEV(b,{path:"/login",component:ue},void 0,!1,{fileName:n,lineNumber:81,columnNumber:22},globalThis),e.exports.jsxDEV(b,{exact:!0,path:"/",component:me},void 0,!1,{fileName:n,lineNumber:82,columnNumber:22},globalThis),e.exports.jsxDEV(b,{exact:!0,path:"/prediction/:id",component:de},void 0,!1,{fileName:n,lineNumber:83,columnNumber:22},globalThis),e.exports.jsxDEV(b,{exact:!0,path:"/result/:id",component:Ne},void 0,!1,{fileName:n,lineNumber:84,columnNumber:22},globalThis),e.exports.jsxDEV(b,{exact:!0,path:"/leaderboard",component:fe},void 0,!1,{fileName:n,lineNumber:85,columnNumber:22},globalThis),e.exports.jsxDEV(b,{exact:!0,path:"/admin",component:be},void 0,!1,{fileName:n,lineNumber:86,columnNumber:22},globalThis),e.exports.jsxDEV(b,{exact:!0,path:"/admin/result/:id",component:he},void 0,!1,{fileName:n,lineNumber:87,columnNumber:22},globalThis),e.exports.jsxDEV(b,{exact:!0,path:"/settings",component:pe},void 0,!1,{fileName:n,lineNumber:88,columnNumber:22},globalThis),e.exports.jsxDEV(b,{exact:!0,path:"*",render:()=>e.exports.jsxDEV(M,{to:"/"},void 0,!1,{fileName:n,lineNumber:89,columnNumber:58},globalThis)},void 0,!1,{fileName:n,lineNumber:89,columnNumber:22},globalThis)]},void 0,!0,{fileName:n,lineNumber:80,columnNumber:19},globalThis)},void 0,!1,{fileName:n,lineNumber:79,columnNumber:16},globalThis),t.navbar.showBottomNav&&e.exports.jsxDEV("div",{className:"app__bottom-navbar position-sticky",style:{bottom:"0",width:"100vw"},children:e.exports.jsxDEV(se,{},void 0,!1,{fileName:n,lineNumber:94,columnNumber:22},globalThis)},void 0,!1,{fileName:n,lineNumber:93,columnNumber:19},globalThis)]},void 0,!0,{fileName:n,lineNumber:75,columnNumber:13},globalThis),e.exports.jsxDEV("div",{className:"app__toaster",children:e.exports.jsxDEV(le,{},void 0,!1,{fileName:n,lineNumber:99,columnNumber:16},globalThis)},void 0,!1,{fileName:n,lineNumber:98,columnNumber:13},globalThis),e.exports.jsxDEV(ce,{},void 0,!1,{fileName:n,lineNumber:101,columnNumber:13},globalThis)]},void 0,!0,{fileName:n,lineNumber:74,columnNumber:10},globalThis)},void 0,!1,{fileName:n,lineNumber:73,columnNumber:7},globalThis)};R.interceptors.request.use(function(t){return t.withCredentials=!0,t.headers={...t.headers,Accept:"application/json","Content-Type":"application/json"},t},function(t){return Promise.reject(t)});R.interceptors.response.use(function(t){return t},function(t){return t.response.status===401&&window.location.pathname!=="/login"&&window.location.replace(window.location.origin+`/login?redirect_uri=${window.location.href}`),Promise.reject(t)});var V="C:\\Projects\\f1predictions-ui\\src\\main.jsx";G.render(e.exports.jsxDEV(m.StrictMode,{children:e.exports.jsxDEV(X,{children:e.exports.jsxDEV(te,{children:e.exports.jsxDEV(ge,{},void 0,!1,{fileName:V,lineNumber:14,columnNumber:13},globalThis)},void 0,!1,{fileName:V,lineNumber:13,columnNumber:10},globalThis)},void 0,!1,{fileName:V,lineNumber:12,columnNumber:7},globalThis)},void 0,!1,{fileName:V,lineNumber:11,columnNumber:4},globalThis),document.getElementById("root"));export{Te as A,g as _,_ as a,ae as b,je as c,k as d,oe as u};
