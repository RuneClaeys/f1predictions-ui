import{R as m,r as f,j as e,N,a as p,T as O,b as D,u as L,c as F,d as _,S as $,C as B,e as z,f as d,g as H,h as M,i as q,B as K}from"./vendor.ec64f40b.js";const U=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}};U();const G="modulepreload",V={},X="/",h=function(t,r){return!r||r.length===0?t():Promise.all(r.map(l=>{if(l=`${X}${l}`,l in V)return;V[l]=!0;const a=l.endsWith(".css"),i=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${i}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":G,a||(c.as="script",c.crossOrigin=""),c.href=l,document.head.appendChild(c),a)return new Promise((x,j)=>{c.addEventListener("load",x),c.addEventListener("error",j)})})).then(()=>t())};var Y="C:\\Projects\\f1predictions-ui\\src\\core\\contexts\\Store.jsx";const S={title:"F1 Predictions",leftAction:null,leftActioinIcon:null,rightAction:null,rightActionIcon:null,showBottomNav:!0},W={drivers:[],grandPrix:[],seasons:[],current_season:null,notifications:[],navbar:S,accessToken:null},w=m.createContext();function J(s,t){switch(t.type){case"SET_DRIVERS":return{...s,drivers:t.payload};case"SET_GRAND_PRIX":return{...s,grandPrix:t.payload};case"SET_SEASONS":return{...s,seasons:t.payload};case"SET_CURRENT_SEASON":return{...s,current_season:t.payload};case"SET_NAVBAR":return{...s,navbar:{...s.navbar,...t.payload}};case"RESET_NAVBAR":return{...s,navbar:S};case"NOTIFY":return{...s,notifications:[...s.notifications,t.payload]};case"REMOVE_NOTIFICATION":return{...s,notifications:s.notifications.filter(r=>r.id!=t.payload)};case"SET_ACCESS_TOKEN":return{...s,accessToken:t.payload};default:return s}}const Q=({children:s})=>{const[t,r]=m.useReducer(J,W);return f.exports.useEffect(()=>{const l=localStorage.getItem("access_token");l&&r({type:"SET_ACCESS_TOKEN",payload:l})},[]),e.exports.jsxDEV(w.Provider,{value:{state:t,dispatch:r},children:s},void 0,!1,{fileName:Y,lineNumber:58,columnNumber:11},globalThis)};function E(){const s=m.useContext(w);if(!s)throw Error("StoreContext must be used within a StoreProvider");return s}var n="C:\\Projects\\f1predictions-ui\\src\\components\\Navbar.jsx";const Z=()=>{const{navbar:s}=E().state;return e.exports.jsxDEV("div",{className:"navbar p-0 d-flex align-items-center  bg-primary text-white ",children:e.exports.jsxDEV("div",{className:"container navbar__content d-flex align-items-centerp-1",children:[e.exports.jsxDEV("div",{className:"navbar__action col d-flex",children:s.leftAction&&e.exports.jsxDEV("button",{onClick:s.leftAction,className:"btn text-white py-0",children:e.exports.jsxDEV("i",{className:`fas ${s.leftActionIcon}`},void 0,!1,{fileName:n,lineNumber:13,columnNumber:22},globalThis)},void 0,!1,{fileName:n,lineNumber:12,columnNumber:19},globalThis)},void 0,!1,{fileName:n,lineNumber:10,columnNumber:13},globalThis),e.exports.jsxDEV("h4",{className:"mb-0 col-9 py-2 text-nowrap",children:s.title},void 0,!1,{fileName:n,lineNumber:17,columnNumber:13},globalThis),e.exports.jsxDEV("div",{className:"navbar__action col d-flex align-items-end",children:s.rightAction&&e.exports.jsxDEV("button",{onClick:s.rightAction,className:"btn text-white py-0",children:e.exports.jsxDEV("i",{className:`fas ${s.rightActionIcon}`},void 0,!1,{fileName:n,lineNumber:21,columnNumber:22},globalThis)},void 0,!1,{fileName:n,lineNumber:20,columnNumber:19},globalThis)},void 0,!1,{fileName:n,lineNumber:18,columnNumber:13},globalThis),e.exports.jsxDEV(N,{className:"navbar__nav",defaultActiveKey:"/home",as:"ul",children:[e.exports.jsxDEV(N.Item,{as:"li",children:e.exports.jsxDEV(N.Link,{to:"/",className:"text-white",exact:!0,activeClassName:"fw-bold",as:p,children:"Home"},void 0,!1,{fileName:n,lineNumber:27,columnNumber:19},globalThis)},void 0,!1,{fileName:n,lineNumber:26,columnNumber:16},globalThis),e.exports.jsxDEV(N.Item,{as:"li",children:e.exports.jsxDEV(N.Link,{to:"/leaderboard",className:"text-white",activeClassName:"fw-bold",as:p,children:"Leaderboards"},void 0,!1,{fileName:n,lineNumber:32,columnNumber:19},globalThis)},void 0,!1,{fileName:n,lineNumber:31,columnNumber:16},globalThis),e.exports.jsxDEV(N.Item,{as:"li",children:e.exports.jsxDEV(N.Link,{to:"/settings",className:"text-white",activeClassName:"fw-bold",as:p,children:"Settings"},void 0,!1,{fileName:n,lineNumber:37,columnNumber:19},globalThis)},void 0,!1,{fileName:n,lineNumber:36,columnNumber:16},globalThis),e.exports.jsxDEV(N.Item,{as:"li",children:e.exports.jsxDEV(N.Link,{to:"/admin",className:"text-white",activeClassName:"fw-bold",as:p,children:"Admin"},void 0,!1,{fileName:n,lineNumber:42,columnNumber:19},globalThis)},void 0,!1,{fileName:n,lineNumber:41,columnNumber:16},globalThis)]},void 0,!0,{fileName:n,lineNumber:25,columnNumber:13},globalThis)]},void 0,!0,{fileName:n,lineNumber:9,columnNumber:10},globalThis)},void 0,!1,{fileName:n,lineNumber:8,columnNumber:7},globalThis)};var b="C:\\Projects\\f1predictions-ui\\src\\components\\BottomNavBar.jsx";const ee=()=>e.exports.jsxDEV("nav",{className:"bg-primary d-flex",children:[e.exports.jsxDEV(p,{to:"/",exact:!0,activeClassName:"opacity-100",className:"btn btn-link py-2 my-1 col text-white opacity-50",children:e.exports.jsxDEV("i",{className:"fas fa-home"},void 0,!1,{fileName:b,lineNumber:7,columnNumber:13},globalThis)},void 0,!1,{fileName:b,lineNumber:6,columnNumber:10},globalThis),e.exports.jsxDEV(p,{to:"/leaderboard",exact:!0,activeClassName:"opacity-100",className:"btn btn-link py-2 my-1 col text-white opacity-50",children:e.exports.jsxDEV("i",{className:"fas fa-poll"},void 0,!1,{fileName:b,lineNumber:10,columnNumber:13},globalThis)},void 0,!1,{fileName:b,lineNumber:9,columnNumber:10},globalThis),e.exports.jsxDEV(p,{to:"/settings",exact:!0,activeClassName:"opacity-100",className:"btn btn-link py-2 my-1 col text-white opacity-50",children:e.exports.jsxDEV("i",{className:"fas fa-cog"},void 0,!1,{fileName:b,lineNumber:13,columnNumber:13},globalThis)},void 0,!1,{fileName:b,lineNumber:12,columnNumber:10},globalThis),e.exports.jsxDEV(p,{to:"/admin",exact:!0,activeClassName:"opacity-100",className:"btn btn-link py-2 my-1 col text-white opacity-50",children:e.exports.jsxDEV("i",{className:"fas fa-users-cog"},void 0,!1,{fileName:b,lineNumber:16,columnNumber:13},globalThis)},void 0,!1,{fileName:b,lineNumber:15,columnNumber:10},globalThis)]},void 0,!0,{fileName:b,lineNumber:5,columnNumber:7},globalThis);var v="C:\\Projects\\f1predictions-ui\\src\\components\\Toaster.jsx";const se=()=>{const{state:s,dispatch:t}=E(),{notifications:r}=s,l=f.exports.useMemo(()=>r.length>0?r.reverse()[r.length-1]:null,[r]),a=f.exports.useCallback(i=>{t({type:"REMOVE_NOTIFICATION",payload:i.id})},[t]);return e.exports.jsxDEV(O,{children:e.exports.jsxDEV(D,{show:!!l,autohide:!0,delay:l?.delay||5e3,onClose:()=>a(l),bg:l?.type||"primary",className:"text-white",children:e.exports.jsxDEV(D.Body,{children:e.exports.jsxDEV("div",{className:"d-flex justify-content-between align-items-center",children:[e.exports.jsxDEV("span",{children:l?.text},void 0,!1,{fileName:v,lineNumber:35,columnNumber:19},globalThis),e.exports.jsxDEV("i",{onClick:()=>a(l),className:"fas fa-times text-white"},void 0,!1,{fileName:v,lineNumber:36,columnNumber:19},globalThis)]},void 0,!0,{fileName:v,lineNumber:34,columnNumber:16},globalThis)},void 0,!1,{fileName:v,lineNumber:33,columnNumber:13},globalThis)},void 0,!1,{fileName:v,lineNumber:25,columnNumber:10},globalThis)},void 0,!1,{fileName:v,lineNumber:24,columnNumber:7},globalThis)};var te="C:\\Projects\\f1predictions-ui\\src\\pages\\Callback.jsx";const le=()=>{const{push:s}=L(),{search:t}=F(),{dispatch:r}=E(),l=f.exports.useMemo(()=>new URLSearchParams(t).get("state"),[t]);return f.exports.useEffect(()=>{l&&(localStorage.setItem("access_token",l),r({type:"SET_ACCESS_TOKEN",payload:l}),s("/"))},[l]),e.exports.jsxDEV("div",{children:"Loading..."},void 0,!1,{fileName:te,lineNumber:21,columnNumber:11},globalThis)};function ae(s,{initialFetch:t=!0,initialFetchOptions:r={},initialValue:l=null}={}){const[a,i]=m.useState(!1),[c,x]=m.useState(null),[j,R]=m.useState(l),{dispatch:C}=E(),y=m.useCallback(async(I,P)=>{let g=null;g&&clearTimeout(g),g=setTimeout(()=>{i(!0)},10);function k(u){switch(u?.response?.status){case 401:return null;case 403:return"U hebt geen toegang tot die gegevens";case 400:return"Die gegevens bestaan niet of konden niet worden opgevraagd";default:return"Er is iets fout gegaan"}}return await _.get(`https://f1-predictions-backend.herokuapp.com${I}`,{...P}).then(u=>u.data).then(u=>(R(u),u)).catch(u=>(x(u),u?.response?.status!==401&&C({type:"NOTIFY",payload:{id:new Date().getTime(),text:k(u),delay:5e3,type:"danger"}}),u)).finally(()=>{g&&clearTimeout(g),i(!1)})},[]);return m.useEffect(()=>{t&&y(s,r)},[]),{loading:a,data:j,error:c,fetch:y,setError:x,setLoading:i}}const ie="/grand-prix",xe="/predictions",oe="/drivers",ve="/results",A="/seasons";var o="C:\\Projects\\f1predictions-ui\\src\\App.jsx";const re=m.lazy(()=>h(()=>import("./Home.ae64c033.js").then(function(s){return s.H}),["assets/Home.ae64c033.js","assets/vendor.ec64f40b.js"])),ne=m.lazy(()=>h(()=>import("./SignIn.a3b282df.js"),["assets/SignIn.a3b282df.js","assets/vendor.ec64f40b.js","assets/Button.7e46c1cd.js","assets/useNavbar.2b4c29f6.js"])),ce=m.lazy(()=>h(()=>import("./PredictionForm.862348f6.js"),["assets/PredictionForm.862348f6.js","assets/vendor.ec64f40b.js","assets/ExtraForm.4289962f.js","assets/Form.d8d6be7d.js","assets/warning.b33cdbd2.js","assets/Col.e1c649d0.js","assets/Button.7e46c1cd.js","assets/useNavbar.2b4c29f6.js"])),me=m.lazy(()=>h(()=>import("./Result.651a477a.js"),["assets/Result.651a477a.js","assets/vendor.ec64f40b.js","assets/useNavbar.2b4c29f6.js"])),ue=m.lazy(()=>h(()=>import("./Leaderboard.fb92cff3.js"),["assets/Leaderboard.fb92cff3.js","assets/vendor.ec64f40b.js","assets/useNavbar.2b4c29f6.js"])),de=m.lazy(()=>h(()=>import("./Admin.393b3f0c.js"),["assets/Admin.393b3f0c.js","assets/vendor.ec64f40b.js","assets/Button.7e46c1cd.js","assets/Form.d8d6be7d.js","assets/warning.b33cdbd2.js","assets/Col.e1c649d0.js","assets/useNavbar.2b4c29f6.js"])),Ne=m.lazy(()=>h(()=>import("./Settings.a7e0f171.js"),["assets/Settings.a7e0f171.js","assets/vendor.ec64f40b.js","assets/Button.7e46c1cd.js","assets/Form.d8d6be7d.js","assets/warning.b33cdbd2.js","assets/Col.e1c649d0.js"])),be=m.lazy(()=>h(()=>import("./ResultsForm.8867651c.js"),["assets/ResultsForm.8867651c.js","assets/vendor.ec64f40b.js","assets/ExtraForm.4289962f.js","assets/Form.d8d6be7d.js","assets/warning.b33cdbd2.js","assets/Col.e1c649d0.js","assets/Button.7e46c1cd.js","assets/useNavbar.2b4c29f6.js"])),fe=()=>e.exports.jsxDEV("div",{className:"d-flex align-items-center justify-content-center",style:{width:"100vw",height:"100vh"},children:e.exports.jsxDEV(M,{size:"lg",animation:"border",role:"status",variant:"primary",children:e.exports.jsxDEV("span",{className:"visually-hidden",children:"Loading..."},void 0,!1,{fileName:o,lineNumber:30,columnNumber:13},globalThis)},void 0,!1,{fileName:o,lineNumber:29,columnNumber:10},globalThis)},void 0,!1,{fileName:o,lineNumber:28,columnNumber:7},globalThis),pe=()=>{const{state:s,dispatch:t}=E(),{fetch:r}=ae(null,{initialFetch:!1}),{current_season:l,accessToken:a}=s;return f.exports.useEffect(async()=>{a&&(await r(oe).then(i=>t({type:"SET_DRIVERS",payload:i})),await r(A).then(i=>{t({type:"SET_SEASONS",payload:i}),t({type:"SET_CURRENT_SEASON",payload:i.find(c=>c.year==new Date().getFullYear())})}))},[a]),f.exports.useEffect(async()=>{l&&await r(`${A}/${l.id}${ie}`).then(i=>t({type:"SET_GRAND_PRIX",payload:i.sort((c,x)=>new Date(c.qualifying_start_timestamp)-new Date(x.qualifying_start_timestamp))}))},[l]),e.exports.jsxDEV(f.exports.Suspense,{fallback:e.exports.jsxDEV(fe,{},void 0,!1,{fileName:o,lineNumber:64,columnNumber:27},globalThis),children:e.exports.jsxDEV("div",{className:"app",children:[e.exports.jsxDEV($,{style:{width:"100vw"},children:[e.exports.jsxDEV("div",{className:"app__navbar sticky-top",children:e.exports.jsxDEV(Z,{},void 0,!1,{fileName:o,lineNumber:68,columnNumber:19},globalThis)},void 0,!1,{fileName:o,lineNumber:67,columnNumber:16},globalThis),e.exports.jsxDEV(B,{className:"py-3",style:{minHeight:"calc(100vh - 100px)"},children:e.exports.jsxDEV(z,{children:[e.exports.jsxDEV(d,{path:"/login",component:ne},void 0,!1,{fileName:o,lineNumber:72,columnNumber:22},globalThis),e.exports.jsxDEV(d,{exact:!0,path:"/",component:re},void 0,!1,{fileName:o,lineNumber:73,columnNumber:22},globalThis),e.exports.jsxDEV(d,{exact:!0,path:"/prediction/:id",component:ce},void 0,!1,{fileName:o,lineNumber:74,columnNumber:22},globalThis),e.exports.jsxDEV(d,{exact:!0,path:"/result/:id",component:me},void 0,!1,{fileName:o,lineNumber:75,columnNumber:22},globalThis),e.exports.jsxDEV(d,{exact:!0,path:"/leaderboard",component:ue},void 0,!1,{fileName:o,lineNumber:76,columnNumber:22},globalThis),e.exports.jsxDEV(d,{exact:!0,path:"/admin",component:de},void 0,!1,{fileName:o,lineNumber:77,columnNumber:22},globalThis),e.exports.jsxDEV(d,{exact:!0,path:"/admin/result/:id",component:be},void 0,!1,{fileName:o,lineNumber:78,columnNumber:22},globalThis),e.exports.jsxDEV(d,{exact:!0,path:"/settings",component:Ne},void 0,!1,{fileName:o,lineNumber:79,columnNumber:22},globalThis),e.exports.jsxDEV(d,{exact:!0,path:"/callback",component:le},void 0,!1,{fileName:o,lineNumber:80,columnNumber:22},globalThis),e.exports.jsxDEV(d,{exact:!0,path:"*",render:()=>e.exports.jsxDEV(H,{to:"/"},void 0,!1,{fileName:o,lineNumber:81,columnNumber:58},globalThis)},void 0,!1,{fileName:o,lineNumber:81,columnNumber:22},globalThis)]},void 0,!0,{fileName:o,lineNumber:71,columnNumber:19},globalThis)},void 0,!1,{fileName:o,lineNumber:70,columnNumber:16},globalThis),s.navbar.showBottomNav&&e.exports.jsxDEV("div",{className:"app__bottom-navbar position-sticky",style:{bottom:"0",width:"100vw"},children:e.exports.jsxDEV(ee,{},void 0,!1,{fileName:o,lineNumber:86,columnNumber:22},globalThis)},void 0,!1,{fileName:o,lineNumber:85,columnNumber:19},globalThis)]},void 0,!0,{fileName:o,lineNumber:66,columnNumber:13},globalThis),e.exports.jsxDEV("div",{className:"app__toaster",children:e.exports.jsxDEV(se,{},void 0,!1,{fileName:o,lineNumber:91,columnNumber:16},globalThis)},void 0,!1,{fileName:o,lineNumber:90,columnNumber:13},globalThis)]},void 0,!0,{fileName:o,lineNumber:65,columnNumber:10},globalThis)},void 0,!1,{fileName:o,lineNumber:64,columnNumber:7},globalThis)};_.interceptors.request.use(function(s){s.headers={...s.headers,Accept:"application/json","Content-Type":"application/json"};const t=localStorage.getItem("access_token");return t&&(s.headers={...s.headers,Authorization:`Bearer ${t}`}),s},function(s){return Promise.reject(s)});_.interceptors.response.use(function(s){return s},function(s){return s.response.status===401&&window.location.pathname!=="/login"&&window.location.replace(window.location.origin+`/login?redirect_uri=${window.location.href}`),Promise.reject(s)});var T="C:\\Projects\\f1predictions-ui\\src\\main.jsx";q.render(e.exports.jsxDEV(m.StrictMode,{children:e.exports.jsxDEV(K,{children:e.exports.jsxDEV(Q,{children:e.exports.jsxDEV(pe,{},void 0,!1,{fileName:T,lineNumber:14,columnNumber:13},globalThis)},void 0,!1,{fileName:T,lineNumber:13,columnNumber:10},globalThis)},void 0,!1,{fileName:T,lineNumber:12,columnNumber:7},globalThis)},void 0,!1,{fileName:T,lineNumber:11,columnNumber:4},globalThis),document.getElementById("root"));export{ve as A,h as _,E as a,ie as b,xe as c,A as d,ae as u};
