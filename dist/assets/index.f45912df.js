import{R as u,r as b,j as e,u as P,N as f,a as h,T as O,b as D,c as $,d as L,e as y,S as F,C as B,f as U,g as N,h as z,i as M,k as G,B as q,l as K,m as H,n as X,o as Y}from"./vendor.2d83aa44.js";const W=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function o(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerpolicy&&(n.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?n.credentials="include":a.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(a){if(a.ep)return;a.ep=!0;const n=o(a);fetch(a.href,n)}};W();const J="modulepreload",V={},Q="/",x=function(t,o){return!o||o.length===0?t():Promise.all(o.map(l=>{if(l=`${Q}${l}`,l in V)return;V[l]=!0;const a=l.endsWith(".css"),n=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${n}`))return;const i=document.createElement("link");if(i.rel=a?"stylesheet":J,a||(i.as="script",i.crossOrigin=""),i.href=l,document.head.appendChild(i),a)return new Promise((c,v)=>{i.addEventListener("load",c),i.addEventListener("error",v)})})).then(()=>t())};var Z="C:\\Users\\runec\\Documents\\projects\\f1predictions-ui\\src\\core\\contexts\\Store.jsx";const S={title:"F1 Predictions",leftAction:null,leftActioinIcon:null,rightAction:null,rightActionIcon:null,showBottomNav:!0},ee={drivers:[],driver_sorting:"first_name",grandPrix:[],seasons:[],current_season:null,notifications:[],navbar:S,accessToken:null,user:null},w=u.createContext();function se(s,t){switch(t.type){case"SET_DRIVERS":return{...s,drivers:t.payload};case"SET_DRIVER_SORTING":return{...s,driver_sorting:t.payload};case"SET_GRAND_PRIX":return{...s,grandPrix:t.payload};case"SET_SEASONS":return{...s,seasons:t.payload};case"SET_CURRENT_SEASON":return{...s,current_season:t.payload};case"SET_NAVBAR":return{...s,navbar:{...s.navbar,...t.payload}};case"RESET_NAVBAR":return{...s,navbar:S};case"NOTIFY":return{...s,notifications:[...s.notifications,t.payload]};case"REMOVE_NOTIFICATION":return{...s,notifications:s.notifications.filter(o=>o.id!=t.payload)};case"SET_ACCESS_TOKEN":return{...s,accessToken:t.payload};case"SET_USER":return{...s,user:t.payload};default:return s}}const te=({children:s})=>{const[t,o]=u.useReducer(se,ee),{drivers:l,driver_sorting:a}=t;b.exports.useEffect(()=>{const i=localStorage.getItem("driver_sorting");o({type:"SET_DRIVER_SORTING",payload:i||"first_name"});const c=localStorage.getItem("access_token");c&&o({type:"SET_ACCESS_TOKEN",payload:c})},[]);const n=b.exports.useMemo(()=>l.map(i=>({...i,team_name:i.team.name,display_key:a==="team_name"?`[${i.team.short_name}] - ${i.first_name} ${i.last_name}`:a==="first_name"?`${i.first_name} ${i.last_name} - [${i.team.short_name}]`:`${i.last_name} ${i.first_name} - [${i.team.short_name}]`})).sort((i,c)=>i?.[a]?.localeCompare(c?.[a])),[l,a]);return e.exports.jsxDEV(w.Provider,{value:{state:{...t,drivers:n},dispatch:o},children:s},void 0,!1,{fileName:Z,lineNumber:86,columnNumber:12},globalThis)};function g(){const s=u.useContext(w);if(!s)throw Error("StoreContext must be used within a StoreProvider");return s}var m="C:\\Users\\runec\\Documents\\projects\\f1predictions-ui\\src\\components\\Navbar.jsx";const ae=()=>{const{navbar:s,user:t}=g().state,{t:o}=P();return e.exports.jsxDEV("div",{className:"navbar p-0 d-flex align-items-center  bg-primary text-white ",children:e.exports.jsxDEV("div",{className:"container navbar__content d-flex align-items-centerp-1",children:[e.exports.jsxDEV("div",{className:"navbar__action col d-flex",children:s.leftAction&&e.exports.jsxDEV("button",{onClick:s.leftAction,className:"btn text-white py-0",children:e.exports.jsxDEV("i",{className:`fas ${s.leftActionIcon}`},void 0,!1,{fileName:m,lineNumber:15,columnNumber:29},globalThis)},void 0,!1,{fileName:m,lineNumber:14,columnNumber:25},globalThis)},void 0,!1,{fileName:m,lineNumber:12,columnNumber:17},globalThis),e.exports.jsxDEV("h4",{className:"mb-0 col-9 py-2 text-nowrap",children:s.title},void 0,!1,{fileName:m,lineNumber:19,columnNumber:17},globalThis),e.exports.jsxDEV("div",{className:"navbar__action col d-flex align-items-end",children:s.rightAction&&e.exports.jsxDEV("button",{onClick:s.rightAction,className:"btn text-white py-0",children:e.exports.jsxDEV("i",{className:`fas ${s.rightActionIcon}`},void 0,!1,{fileName:m,lineNumber:23,columnNumber:29},globalThis)},void 0,!1,{fileName:m,lineNumber:22,columnNumber:25},globalThis)},void 0,!1,{fileName:m,lineNumber:20,columnNumber:17},globalThis),e.exports.jsxDEV(f,{className:"navbar__nav",defaultActiveKey:"/home",as:"ul",children:[e.exports.jsxDEV(f.Item,{as:"li",children:e.exports.jsxDEV(f.Link,{to:"/",className:"text-white",exact:!0,activeClassName:"fw-bold",as:h,children:o("global.home")},void 0,!1,{fileName:m,lineNumber:29,columnNumber:25},globalThis)},void 0,!1,{fileName:m,lineNumber:28,columnNumber:21},globalThis),e.exports.jsxDEV(f.Item,{as:"li",children:e.exports.jsxDEV(f.Link,{to:"/leaderboard",className:"text-white",activeClassName:"fw-bold",as:h,children:o("global.leaderboard")},void 0,!1,{fileName:m,lineNumber:34,columnNumber:25},globalThis)},void 0,!1,{fileName:m,lineNumber:33,columnNumber:21},globalThis),e.exports.jsxDEV(f.Item,{as:"li",children:e.exports.jsxDEV(f.Link,{to:"/settings",className:"text-white",activeClassName:"fw-bold",as:h,children:o("global.settings")},void 0,!1,{fileName:m,lineNumber:39,columnNumber:25},globalThis)},void 0,!1,{fileName:m,lineNumber:38,columnNumber:21},globalThis),t?.is_admin&&e.exports.jsxDEV(f.Item,{as:"li",children:e.exports.jsxDEV(f.Link,{to:"/admin",className:"text-white",activeClassName:"fw-bold",as:h,children:o("global.admin")},void 0,!1,{fileName:m,lineNumber:45,columnNumber:29},globalThis)},void 0,!1,{fileName:m,lineNumber:44,columnNumber:25},globalThis)]},void 0,!0,{fileName:m,lineNumber:27,columnNumber:17},globalThis)]},void 0,!0,{fileName:m,lineNumber:11,columnNumber:13},globalThis)},void 0,!1,{fileName:m,lineNumber:10,columnNumber:9},globalThis)};var p="C:\\Users\\runec\\Documents\\projects\\f1predictions-ui\\src\\components\\BottomNavBar.jsx";const le=()=>{const{user:s}=g().state;return e.exports.jsxDEV("nav",{className:"bg-primary d-flex",children:[e.exports.jsxDEV(h,{to:"/",exact:!0,activeClassName:"opacity-100",className:"btn btn-link py-2 my-1 col text-white opacity-50",children:e.exports.jsxDEV("i",{className:"fas fa-home"},void 0,!1,{fileName:p,lineNumber:10,columnNumber:13},globalThis)},void 0,!1,{fileName:p,lineNumber:9,columnNumber:10},globalThis),e.exports.jsxDEV(h,{to:"/leaderboard",exact:!0,activeClassName:"opacity-100",className:"btn btn-link py-2 my-1 col text-white opacity-50",children:e.exports.jsxDEV("i",{className:"fas fa-poll"},void 0,!1,{fileName:p,lineNumber:13,columnNumber:13},globalThis)},void 0,!1,{fileName:p,lineNumber:12,columnNumber:10},globalThis),e.exports.jsxDEV(h,{to:"/settings",exact:!0,activeClassName:"opacity-100",className:"btn btn-link py-2 my-1 col text-white opacity-50",children:e.exports.jsxDEV("i",{className:"fas fa-cog"},void 0,!1,{fileName:p,lineNumber:16,columnNumber:13},globalThis)},void 0,!1,{fileName:p,lineNumber:15,columnNumber:10},globalThis),s?.is_admin&&e.exports.jsxDEV(h,{to:"/admin",exact:!0,activeClassName:"opacity-100",className:"btn btn-link py-2 my-1 col text-white opacity-50",children:e.exports.jsxDEV("i",{className:"fas fa-users-cog"},void 0,!1,{fileName:p,lineNumber:20,columnNumber:16},globalThis)},void 0,!1,{fileName:p,lineNumber:19,columnNumber:13},globalThis)]},void 0,!0,{fileName:p,lineNumber:8,columnNumber:7},globalThis)};var E="C:\\Users\\runec\\Documents\\projects\\f1predictions-ui\\src\\components\\Toaster.jsx";const oe=()=>{const{state:s,dispatch:t}=g(),{notifications:o}=s,l=b.exports.useMemo(()=>o.length>0?o.reverse()[o.length-1]:null,[o]),a=b.exports.useCallback(n=>{t({type:"REMOVE_NOTIFICATION",payload:n.id})},[t]);return e.exports.jsxDEV(O,{children:e.exports.jsxDEV(D,{show:!!l,autohide:!0,delay:l?.delay||5e3,onClose:()=>a(l),bg:l?.type||"primary",className:"text-white",children:e.exports.jsxDEV(D.Body,{children:e.exports.jsxDEV("div",{className:"d-flex justify-content-between align-items-center",children:[e.exports.jsxDEV("span",{children:l?.text},void 0,!1,{fileName:E,lineNumber:35,columnNumber:19},globalThis),e.exports.jsxDEV("i",{onClick:()=>a(l),className:"fas fa-times text-white"},void 0,!1,{fileName:E,lineNumber:36,columnNumber:19},globalThis)]},void 0,!0,{fileName:E,lineNumber:34,columnNumber:16},globalThis)},void 0,!1,{fileName:E,lineNumber:33,columnNumber:13},globalThis)},void 0,!1,{fileName:E,lineNumber:25,columnNumber:10},globalThis)},void 0,!1,{fileName:E,lineNumber:24,columnNumber:7},globalThis)};var ie="C:\\Users\\runec\\Documents\\projects\\f1predictions-ui\\src\\pages\\Callback.jsx";const re=()=>{const{push:s}=$(),{search:t}=L(),{dispatch:o}=g(),l=b.exports.useMemo(()=>new URLSearchParams(t).get("state"),[t]);return b.exports.useEffect(()=>{l&&(localStorage.setItem("access_token",l),o({type:"SET_ACCESS_TOKEN",payload:l}),s("/"))},[l]),e.exports.jsxDEV("div",{children:"Loading..."},void 0,!1,{fileName:ie,lineNumber:21,columnNumber:11},globalThis)};function ne(s,{initialFetch:t=!0,initialFetchOptions:o={},initialValue:l=null}={}){const[a,n]=u.useState(!1),[i,c]=u.useState(null),[v,T]=u.useState(l),{dispatch:I}=g(),j=u.useCallback(async(A,C)=>{n(!0);function k(d){switch(d?.response?.status){case 401:return null;case 403:return"U hebt geen toegang tot die gegevens";case 400:return"Die gegevens bestaan niet of konden niet worden opgevraagd";default:return"Er is iets fout gegaan"}}return await y.get(`https://web-production-2aca.up.reailway.app${A}`,{...C}).then(d=>d.data).then(d=>(T(d),d)).catch(d=>(c(d),d?.response?.status!==401&&I({type:"NOTIFY",payload:{id:new Date().getTime(),text:k(d),delay:5e3,type:"danger"}}),d)).finally(()=>{n(!1)})},[]);return u.useEffect(()=>{t&&j(s,o)},[]),{loading:a,data:v,error:i,fetch:j,setError:c,setLoading:n}}const ce="/grand-prix",Te="/predictions",me="/drivers",ye="/results",R="/seasons",ue="/user-info";var r="C:\\Users\\runec\\Documents\\projects\\f1predictions-ui\\src\\App.jsx";const de=u.lazy(()=>x(()=>import("./Home.85755b41.js"),["assets/Home.85755b41.js","assets/vendor.2d83aa44.js","assets/index.970aea1b.js"])),Ne=u.lazy(()=>x(()=>import("./SignIn.2d63a135.js"),["assets/SignIn.2d63a135.js","assets/vendor.2d83aa44.js","assets/Button.54e4c99d.js","assets/useNavbar.e03c6aed.js"])),be=u.lazy(()=>x(()=>import("./PredictionForm.bfd09170.js"),["assets/PredictionForm.bfd09170.js","assets/vendor.2d83aa44.js","assets/ExtraForm.914edc57.js","assets/Form.4b1d8140.js","assets/warning.b33cdbd2.js","assets/Col.5688259f.js","assets/Button.54e4c99d.js","assets/useNavbar.e03c6aed.js","assets/index.970aea1b.js"])),fe=u.lazy(()=>x(()=>import("./Result.72ea5cf8.js"),["assets/Result.72ea5cf8.js","assets/vendor.2d83aa44.js","assets/TotalPoints.e706c731.js","assets/Card.ce5b0755.js","assets/Col.5688259f.js","assets/Placeholder.283e3715.js","assets/Button.54e4c99d.js","assets/Row.8860b9ce.js","assets/useNavbar.e03c6aed.js"])),pe=u.lazy(()=>x(()=>import("./Leaderboard.41360bcb.js"),["assets/Leaderboard.41360bcb.js","assets/vendor.2d83aa44.js","assets/useNavbar.e03c6aed.js"])),he=u.lazy(()=>x(()=>import("./Admin.674c311b.js"),["assets/Admin.674c311b.js","assets/vendor.2d83aa44.js","assets/Button.54e4c99d.js","assets/Form.4b1d8140.js","assets/warning.b33cdbd2.js","assets/Col.5688259f.js","assets/useNavbar.e03c6aed.js"])),xe=u.lazy(()=>x(()=>import("./Settings.d107a942.js"),["assets/Settings.d107a942.js","assets/vendor.2d83aa44.js","assets/Button.54e4c99d.js","assets/Form.4b1d8140.js","assets/warning.b33cdbd2.js","assets/Col.5688259f.js"])),ve=u.lazy(()=>x(()=>import("./ResultsForm.b78c99ea.js"),["assets/ResultsForm.b78c99ea.js","assets/vendor.2d83aa44.js","assets/ExtraForm.914edc57.js","assets/Form.4b1d8140.js","assets/warning.b33cdbd2.js","assets/Col.5688259f.js","assets/Button.54e4c99d.js","assets/useNavbar.e03c6aed.js"])),ge=()=>e.exports.jsxDEV("div",{className:"d-flex align-items-center justify-content-center",style:{width:"100vw",height:"100vh"},children:e.exports.jsxDEV(M,{size:"lg",animation:"border",role:"status",variant:"primary",children:e.exports.jsxDEV("span",{className:"visually-hidden",children:"Loading..."},void 0,!1,{fileName:r,lineNumber:30,columnNumber:17},globalThis)},void 0,!1,{fileName:r,lineNumber:29,columnNumber:13},globalThis)},void 0,!1,{fileName:r,lineNumber:28,columnNumber:9},globalThis),Ee=()=>{const{state:s,dispatch:t}=g(),{fetch:o}=ne(null,{initialFetch:!1}),{current_season:l,accessToken:a,user:n,driver_sorting:i}=s;return b.exports.useEffect(async()=>{a&&(await o(ue).then(c=>t({type:"SET_USER",payload:c})),await o(me).then(c=>t({type:"SET_DRIVERS",payload:c})),await o(R).then(c=>{t({type:"SET_SEASONS",payload:c}),t({type:"SET_CURRENT_SEASON",payload:c.find(v=>v.year==new Date().getFullYear())})}))},[a]),b.exports.useEffect(async()=>{l&&await o(`${R}/${l.id}${ce}`).then(c=>t({type:"SET_GRAND_PRIX",payload:c.sort((v,T)=>new Date(v.qualifying_start_timestamp)-new Date(T.qualifying_start_timestamp))}))},[l]),e.exports.jsxDEV(b.exports.Suspense,{fallback:e.exports.jsxDEV(ge,{},void 0,!1,{fileName:r,lineNumber:65,columnNumber:29},globalThis),children:e.exports.jsxDEV("div",{className:"app",children:[e.exports.jsxDEV(F,{style:{width:"100%"},children:[e.exports.jsxDEV("div",{className:"app__navbar sticky-top",style:{zIndex:9999},children:e.exports.jsxDEV(ae,{},void 0,!1,{fileName:r,lineNumber:69,columnNumber:25},globalThis)},void 0,!1,{fileName:r,lineNumber:68,columnNumber:21},globalThis),e.exports.jsxDEV(B,{className:"py-3",style:{minHeight:"calc(100vh - 100px)"},children:e.exports.jsxDEV(U,{children:[e.exports.jsxDEV(N,{path:"/login",component:Ne},void 0,!1,{fileName:r,lineNumber:73,columnNumber:29},globalThis),e.exports.jsxDEV(N,{exact:!0,path:"/",component:de},void 0,!1,{fileName:r,lineNumber:74,columnNumber:29},globalThis),e.exports.jsxDEV(N,{exact:!0,path:"/prediction/:id",component:be},void 0,!1,{fileName:r,lineNumber:75,columnNumber:29},globalThis),e.exports.jsxDEV(N,{exact:!0,path:"/result/:id",component:fe},void 0,!1,{fileName:r,lineNumber:76,columnNumber:29},globalThis),e.exports.jsxDEV(N,{exact:!0,path:"/leaderboard",component:pe},void 0,!1,{fileName:r,lineNumber:77,columnNumber:29},globalThis),n?.is_admin&&e.exports.jsxDEV(N,{exact:!0,path:"/admin",component:he},void 0,!1,{fileName:r,lineNumber:78,columnNumber:48},globalThis),n?.is_admin&&e.exports.jsxDEV(N,{exact:!0,path:"/admin/result/:id",component:ve},void 0,!1,{fileName:r,lineNumber:79,columnNumber:48},globalThis),e.exports.jsxDEV(N,{exact:!0,path:"/settings",component:xe},void 0,!1,{fileName:r,lineNumber:80,columnNumber:29},globalThis),e.exports.jsxDEV(N,{exact:!0,path:"/callback",component:re},void 0,!1,{fileName:r,lineNumber:81,columnNumber:29},globalThis),e.exports.jsxDEV(N,{exact:!0,path:"*",render:()=>e.exports.jsxDEV(z,{to:"/"},void 0,!1,{fileName:r,lineNumber:82,columnNumber:65},globalThis)},void 0,!1,{fileName:r,lineNumber:82,columnNumber:29},globalThis)]},void 0,!0,{fileName:r,lineNumber:72,columnNumber:25},globalThis)},void 0,!1,{fileName:r,lineNumber:71,columnNumber:21},globalThis),s.navbar.showBottomNav&&e.exports.jsxDEV("div",{className:"app__bottom-navbar position-sticky",style:{bottom:"0",width:"100vw"},children:e.exports.jsxDEV(le,{},void 0,!1,{fileName:r,lineNumber:87,columnNumber:29},globalThis)},void 0,!1,{fileName:r,lineNumber:86,columnNumber:25},globalThis)]},void 0,!0,{fileName:r,lineNumber:67,columnNumber:17},globalThis),e.exports.jsxDEV("div",{className:"app__toaster",children:e.exports.jsxDEV(oe,{},void 0,!1,{fileName:r,lineNumber:92,columnNumber:21},globalThis)},void 0,!1,{fileName:r,lineNumber:91,columnNumber:17},globalThis)]},void 0,!0,{fileName:r,lineNumber:66,columnNumber:13},globalThis)},void 0,!1,{fileName:r,lineNumber:65,columnNumber:9},globalThis)};y.interceptors.request.use(function(s){s.headers={...s.headers,Accept:"application/json","Content-Type":"application/json"};const t=localStorage.getItem("access_token");return t&&(s.headers={...s.headers,Authorization:`Bearer ${t}`}),s},function(s){return Promise.reject(s)});y.interceptors.response.use(function(s){return s},function(s){return s.response.status===401&&window.location.pathname!=="/login"&&window.location.replace(`https://web-production-2aca.up.reailway.app/login?redirect_uri=${encodeURIComponent(window.location.origin)}`),Promise.reject(s)});G.use(q).use(K).use(H).init({fallbackLng:"nl",interpolation:{escapeValue:!1}});var _="C:\\Users\\runec\\Documents\\projects\\f1predictions-ui\\src\\main.jsx";X.render(e.exports.jsxDEV(u.StrictMode,{children:e.exports.jsxDEV(Y,{children:e.exports.jsxDEV(te,{children:e.exports.jsxDEV(Ee,{},void 0,!1,{fileName:_,lineNumber:16,columnNumber:13},globalThis)},void 0,!1,{fileName:_,lineNumber:15,columnNumber:10},globalThis)},void 0,!1,{fileName:_,lineNumber:14,columnNumber:7},globalThis)},void 0,!1,{fileName:_,lineNumber:13,columnNumber:4},globalThis),document.getElementById("root"));export{ye as A,x as _,g as a,ce as b,Te as c,R as d,ne as u};
