import{_ as d,u as x,A as N}from"./index.eed815fe.js";import{R as _,u as b,r as o,j as t}from"./vendor.855a4921.js";import{d as g}from"./index.970aea1b.js";var a="C:\\Users\\runec\\Documents\\Projects\\f1predictions-ui\\src\\pages\\Home.jsx";const h=_.lazy(()=>d(()=>import("./TotalPoints.d6582c21.js"),["assets/TotalPoints.d6582c21.js","assets/Card.e0403388.js","assets/vendor.855a4921.js","assets/Col.fc6e8593.js","assets/Placeholder.e408a6d1.js","assets/Button.10f28fc7.js","assets/Row.e869789c.js"])),v=_.lazy(()=>d(()=>import("./ShowcaseGP.e4bfd39d.js"),["assets/ShowcaseGP.e4bfd39d.js","assets/Card.e0403388.js","assets/vendor.855a4921.js","assets/Button.10f28fc7.js","assets/Placeholder.e408a6d1.js","assets/Col.fc6e8593.js","assets/index.4fa730c0.js","assets/index.970aea1b.js"])),D=_.lazy(()=>d(()=>import("./GrandPrixHistory.942376b0.js"),["assets/GrandPrixHistory.942376b0.js","assets/Col.fc6e8593.js","assets/vendor.855a4921.js","assets/warning.b33cdbd2.js","assets/Placeholder.e408a6d1.js","assets/Button.10f28fc7.js","assets/Row.e869789c.js","assets/index.4fa730c0.js","assets/index.970aea1b.js"])),y=()=>{const{t:p}=b(),{data:i,loading:l}=x(N,{initialValue:{grand_prix:[]}}),s=o.exports.useMemo(()=>({...i,grand_prix:i.grand_prix.map(e=>({...e,qualifying_start_timestamp:new Date(e.qualifying_start_timestamp),race_start_timestamp:new Date(e.race_start_timestamp),diff:g(new Date(e.qualifying_start_timestamp),new Date)})).sort((e,f)=>e.qualifying_start_timestamp-f.qualifying_start_timestamp)}),[i]),r=o.exports.useMemo(()=>s.grand_prix.find(e=>new Date<e.race_start_timestamp&&new Date>e.qualifying_start_timestamp),[s]),n=o.exports.useMemo(()=>s.grand_prix.find(e=>e.qualifying_start_timestamp>new Date),[s]),m=o.exports.useMemo(()=>s.grand_prix.filter(e=>e.race_start_timestamp<new Date),[s]),c=o.exports.useMemo(()=>s.grand_prix.filter(e=>e?.id!==r?.id).filter(e=>e.race_start_timestamp>new Date),[s,r]);console.log(r,n,m,c);const u=o.exports.useMemo(()=>r||(n?.diff<3?n:m?.[m?.length-1]),[m,r,n]);return t.exports.jsxDEV("div",{gap:4,className:"home",children:[t.exports.jsxDEV("div",{className:"home__showcase",children:t.exports.jsxDEV(v,{showcaseGP:u,isActive:r?.id===u?.id,isUpcomming:n?.id===u?.id,loading:l||!i},void 0,!1,{fileName:a,lineNumber:61,columnNumber:17},globalThis)},void 0,!1,{fileName:a,lineNumber:60,columnNumber:13},globalThis),t.exports.jsxDEV("div",{className:"home__total",children:[t.exports.jsxDEV("h5",{className:"mb-3",children:p("home.season-total")},void 0,!1,{fileName:a,lineNumber:69,columnNumber:17},globalThis),t.exports.jsxDEV(h,{results:i,loading:l||!i,bg:"secondary"},void 0,!1,{fileName:a,lineNumber:70,columnNumber:17},globalThis)]},void 0,!0,{fileName:a,lineNumber:68,columnNumber:13},globalThis),t.exports.jsxDEV("div",{className:"home__history",children:t.exports.jsxDEV(D,{prevGP:m,nextGP:c,loading:l||!i},void 0,!1,{fileName:a,lineNumber:73,columnNumber:17},globalThis)},void 0,!1,{fileName:a,lineNumber:72,columnNumber:13},globalThis)]},void 0,!0,{fileName:a,lineNumber:59,columnNumber:9},globalThis)};export{y as default};
